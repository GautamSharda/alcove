{% extends 'layout.njk' %}

{% block content %}
<div class="machine">
  <div class="ui fluid stackable grid" id="dashboard-header-grid">
    <div class="row" id="dashboard-header-row-top">
      <div class="eight wide column">
        <img id="dashboard-logo" src="/logo.png">
      </div>
      <div class="eight wide column">
        <h1>{{ name }}</h1>
      </div>
    </div>
  </div>

  <table class="ui striped selectable sortable celled table" id="dashboard-table">
    <thead>
      <tr>
        <th>Status</th>
        <th>Performed</th>
        <th>Duration</th>
        <th>Transferred</th>
      </tr>
    </thead>
    <tbody>
      {% for event in events %}
        <tr>
          <td>
            {% if event.exitCode == 0 %}
              <span class="success">Success</span>
            {% else %}
              <span class="failed">Failed (code: {{ event.exitCode }})</span>
            {% endif %}
          </td>
          <td><b>{{ event.date }}</b> @ <b>{{ event.time }}</b></td>
          <td>{{ event.transferTime }}</td>
          <td>{{ event.size }}</td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}

{% block js %}
<script class="text/javascript"> $('table').tablesort(); </script>
{% endblock %}
